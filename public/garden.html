<html>
    <html lang="en">
        <head>
            <title>Garden ‚ãÜÀö‡øî</title>
            <meta charset="UTF-8" />
            <meta
                name="viewport"
                content="width=device-width, intial-scale=1.0" />
            <link rel="icon" href="../assets/logo.png" />
            <link rel="stylesheet" type="text/css" href="./css/garden.css" />
        </head>
            <header>
                <div id="logo">
                    <img src="../assets/logo.png" />
                </div>
                <div class="container">
                    <nav aria-label="main navigation">
                        <a href="../index.html">Menu</a>
                        <a class="active" href="#home">Your Garden</a>
                        <a href="./shop.html">Shop</a>
                        <a href="./about-site.html">About Site</a>
                        <a href="./about-us.html">About Us</a>
                    </nav>
                </div>
            </header>

        <style>
        :root{
    /* smaller tiles to avoid overflow; still fluid */
    --tile-size: clamp(80px, 16vw, 140px);
    --tile-gap: 6px;
    --panel-width: 300px;
    --bg: #eff4e9;
    --nav-bg: #577454;
}

/* General, mobile-first */
*{box-sizing: border-box}
body{
    margin:0;
    font-family: 'Comic Sans MS', system-ui, sans-serif;
    background-color: var(--bg);
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height:100vh;
    color:#2f3d2e;
}

main{display:flex;flex-direction:column;align-items:center;padding:48px 12px; width:100%;}

.garden{display:flex;flex-direction:column;gap:20px;align-items:center;width:100%;max-width:1200px;padding:0 12px}

/* Navigation / header basics (kept simple) */
.container{overflow:hidden;display:flex;background-color:var(--nav-bg);width:100%;align-items:center}
.container a{color:#dbefde;text-align:center;padding:10px 12px;text-decoration:none;font-size:15px}
.container a:hover{background-color:#344639}
.container a.active{background-color:#496150;color:white}
#logo>img{width:50px;height:50px;margin:6px}

/* Grid: mobile-first, fluid tiles that keep aspect ratio */
.grid{
    display:grid;
    gap:var(--tile-gap);
    padding:0.75rem;
    border-radius:15px;
    box-shadow:0 6px 18px rgba(0,0,0,0.08);
    background: linear-gradient(180deg, #655a4a 0%, #5b5242 100%);
    width:100%;
    /* allow grid to shrink; columns will fit into available width */
    grid-template-columns: repeat(auto-fit, minmax(var(--tile-size), 1fr));
    justify-items:stretch;
}

.grid-item, .cell{
    background: linear-gradient(180deg,#5a4f42 0%, #4e4437 100%);
    border:2px solid rgba(60,55,43,0.9);
    border-radius:8px;
    cursor:pointer;
    display:flex;
    justify-content:center;
    align-items:center;
    position:relative;
    aspect-ratio:1/1;
    width:100%;
    height:auto;
    min-height:var(--tile-size);
    transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    box-shadow: inset 0 2px 0 rgba(255,255,255,0.02), 0 2px 6px rgba(0,0,0,0.06);
}
.grid-item:hover{transform:translateY(-4px);box-shadow: inset 0 2px 0 rgba(255,255,255,0.03), 0 6px 18px rgba(0,0,0,0.12)}
.grid-item img{width:70%;height:70%;object-fit:contain;pointer-events:none}
.grid-item.selected{border:3px solid #55e178;background-color:#716758}
.grid-item.planted{background-color:#8d6e63;border-color:#6d4c41}

/* Side panel */
#side-panel{width:100%;max-width:var(--panel-width);padding:18px;background:#fff;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.08);visibility:visible}

.seed-btn{display:flex;justify-content:space-between;align-items:center;width:100%;padding:10px;margin-bottom:8px;border:1px solid #ccc;background:#fff;cursor:pointer;border-radius:6px}
.seed-btn:hover{background:#f1f8e9}
.seed-btn:disabled{opacity:.5;cursor:not-allowed;background:#eee}

.action-btn{width:100%;padding:10px;margin-top:8px;color:rgb(75,98,77);border:none;border-radius:6px;cursor:pointer;font-weight:bold;font-size:.95em;display:flex;justify-content:space-between;align-items:center}
.action-btn:hover{background-color:#809880}
.action-btn:disabled{background-color:#647768 !important;cursor:not-allowed}

/* Footer */
footer{background-color:#6e916a;color:#2f3d2e;font-family:"Comic Sans MS";width:100%;padding:12px;text-align:center}

/* Hybrid behavior: when viewport is very narrow, preserve tile size and allow horizontal pan */
@media (max-width:360px){
    /* only enable panning on very narrow screens where tiles shrink to unusable sizes */
    .grid{
        grid-auto-flow: column;
        grid-auto-columns: minmax(var(--tile-size), 1fr);
        grid-template-columns: none;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
        padding: 12px;
        border-radius:12px;
    }
    .grid-item{scroll-snap-align: start;flex:0 0 auto}
    /* side panel stacks below grid on very small screens */
    #side-panel{max-width:100%;}
}

/* Laptop breakpoint: use a 6-column grid with fixed tile size to preserve original appearance */
@media (min-width:1024px){
    .garden{flex-direction:row;align-items:flex-start;justify-content:center}
    /* force a 6-column layout with fixed tile sizes and ensure total fits precisely */
    .grid{grid-template-columns: repeat(6, var(--tile-size)); max-width: calc(var(--tile-size) * 6 + var(--tile-gap) * 5 + 2rem); box-sizing: border-box}
    #side-panel{width:var(--panel-width)}
}

/* Accessibility / touch target hint */
.grid-item, .seed-btn, .action-btn{min-height:44px}

    </style>
</head>
<body>
<main>
      <!-- login stuff -->
            <script>
                let params = new URLSearchParams(window.location.search);
                const user = params.get("username");

                if (user) {
                    document.getElementById(
                        "welcomeMessage"
                    ).textContent = `Welcome, ${user} . .·ù∞.·êü`; // this isnt fixed yet, tbc.
                }
            </script>
    <div class="garden">
        <div class="grid" id="grid-container"></div>

        <!-- use full screen please !! -->
        <div id="side-panel">
            <h2 id="panel-title" style="margin-top:0;">Plot </h2>
            <p id="panel-desc" style="color:#666; font-style:italic; font-size:0.9em;">...</p>
            
            <div id="stage-badge" style="background:#2ecc71; color:white; padding:5px 10px; border-radius:15px; display:none; font-size:0.8em; margin-bottom:15px; width:fit-content;"></div>

            <div id="inventory-list" style="display: none;">
                <p><strong>Your Seeds:</strong></p>
                <div id="inventory-buttons"></div>
            </div>

            <div id="plant-actions" style="display: none;">
                
                <button class="action-btn" onclick="growPlant()">
                   <img id="water" src="../tools/watering-can.png" /> <span> Water </span>
                </button>
                
                <hr style="margin: 10px 0; border: 0; border-top: 1px solid #8bac8a;">

                <button class="action-btn" style="background-color: #ffffff;" onclick="removePlant()">üóëÔ∏è Dig Up</button>
            </div>
        </div>
    </div>
<script src="./js/garden.js"></script>
    </div>
        </main>
            </body>
        <footer>
                &copy Ayuyao, Ong. All rights reserved.
                <br />
                <li><a href="public/about-us.html">About Us</a></li>
                <li><a href="public/about-site.html">About Site</a></li>
            </footer>
        </body>
    </html>